### Flutter 的性能测试和理论 



##### **package:provider 的工作机制**

Flutter 采用的是类似 React 的**响应式编程**模型。UI 在运行时视觉上的变化是由应用的状态来驱动的:

**场景** : 登陆、商品列表和购物车。

用户在商品列表添加了一些物品之后，购物车里的金额需要自动更新。但是在**响应式编程**模型下，商品列表页里的代码不能去直接修改购物车里的数据。

解决这个问题的一个基本的思路是把两个页面共享的数据放在这个 UI 组件树的上端。Provider 提供了一套机制来管理多个节点共享的应用状态。这个机制由三个基本步骤组成:

1. 首先，我们定义一个继承自 ChangeNotifier 的 CartModel 来负责购物车的数据读写。
2. 然后我们要用到 ChangeNotifierProvider 这个 widget。它可以返回一个特定类型的 ChangeNotifier 并把它提供给下属的 widgets。
3. 指定要访问的数据类型。



Flutter 的 UI 代码使用 Dart 语言，其优点如下:

- Flutter 的声明式 UI 编写方法能够直观地描述 UI 结构
- 不需要为 UI 布局学习额外的语法
- 不需要维护代码之外的 UI 定义文件